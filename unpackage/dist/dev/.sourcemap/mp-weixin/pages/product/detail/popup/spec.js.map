{"version":3,"sources":["webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?0653","webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?f33e","webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?5a9e","webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?493c","uni-app:///pages/product/detail/popup/spec.vue","webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?5988","webpack:///D:/Project/jjjshop-java-master/jjj_shop_single_app/pages/product/detail/popup/spec.vue?c14d"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AAC4L;AAC5L,gBAAgB,mMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAitB,CAAgB,4tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+DruB;AACA,MADA,kBACA;AACA;AACA;AACA,oBAFA;AAGA;AACA;AACA,kBADA;;;AAIA;AACA,sBADA,EAJA,EAJA;;;AAYA;AACA,cAbA;AAcA;AACA,oBAfA;AAgBA;AACA,uBAjBA;AAkBA,cAlBA;;;AAqBA,GAvBA;AAwBA,oCAxBA;AAyBA,QAzBA,oBAyBA;;AAEA,GA3BA;AA4BA,SA5BA,qBA4BA;;AAEA,GA9BA;AA+BA;;AAEA;AACA;AACA;AACA,KALA;;AAOA;AACA;AACA;AACA,KAVA,EA/BA;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA;AACA,aADA,mBACA,CADA,EACA,CADA,EACA;AACA;AACA,mBADA;AAEA;AACA;AACA,WADA;AAEA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA,eAJA;AAKA,aAbA,EACA;AAaA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OA3BA;AA4BA,gBA5BA;AA6BA,qBA7BA,EAZA,EA3CA;;;AAuFA;;AAEA;AACA,eAHA,yBAGA;AACA;AACA;AACA;AACA;AACA,iBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAfA;;AAiBA;AACA,cAlBA,sBAkBA,UAlBA,EAkBA,UAlBA,EAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KA1CA;;;AA6CA;AACA,qBA9CA,+BA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA,KAzEA;;AA2EA;AACA,cA5EA,wBA4EA;AACA;AACA,KA9EA;;AAgFA;AACA,eAjFA,yBAiFA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtGA;;AAwGA;AACA,WAzGA,qBAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;;AAEA;AACA,4BADA;AAEA,0BAFA;AAGA,4BAHA;AAIA;AACA;AACA,wBADA;AAEA,wBAFA;;AAIA;AACA,OAVA;AAWA,KAlIA;;AAoIA;AACA,gBArIA,0BAqIA;AACA;AACA;AACA;AACA;AACA,mBADA,GACA,YADA,GACA,gBADA;AAEA;AACA,KA5IA;;AA8IA;AACA,OA/IA,iBA+IA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA,KApKA;;AAsKA;AACA,OAvKA,iBAuKA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA,KApLA,EAvFA,E;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAw1C,CAAgB,myCAAG,EAAC,C;;;;;;;;;;;ACA52C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/product/detail/popup/spec.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./spec.vue?vue&type=template&id=0fd54a73&\"\nvar renderjs\nimport script from \"./spec.vue?vue&type=script&lang=js&\"\nexport * from \"./spec.vue?vue&type=script&lang=js&\"\nimport style0 from \"./spec.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/product/detail/popup/spec.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./spec.vue?vue&type=template&id=0fd54a73&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./spec.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./spec.vue?vue&type=script&lang=js&\"","<template>\n\t<view :class=\"Visible?'product-popup open':'product-popup close'\" @touchmove.stop.prevent=\"\" @click=\"closePopup\">\n\t\t<view class=\"popup-bg\"></view>\n\t\t<view class=\"main\" v-on:click.stop>\n\t\t\t<view class=\"header\">\n\t\t\t\t<image :src=\"form.showSku.skuImage\" mode=\"aspectFit\" class=\"avt\"></image>\n\t\t\t\t<view class=\"price\">\n\t\t\t\t\t¥\n\t\t\t\t\t<text class=\"num\">{{form.showSku.productPrice}}</text>\n\t\t\t\t\t<text class=\"old-price\" v-if=\"form.showSku.linePrice\">¥{{form.showSku.linePrice}}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"stock\">\n\t\t\t\t\t库存：{{form.showSku.stockNum}}\n\t\t\t\t</view>\n\t\t\t\t<view class=\"select_spec\">{{ selectSpec }}</view>\n\t\t\t\t<view class=\"close-btn\" @click=\"closePopup\">\n\t\t\t\t\t<text class=\"icon iconfont icon-guanbi\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<view class=\"body\">\n\t\t\t\t<!--规格-->\n\t\t\t\t<view>\n\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"specs mt20\" style=\"max-height: 600rpx;\"\n\t\t\t\t\t\tv-if=\"form.specData !=null\">\n\t\t\t\t\t\t<view class=\"specs mt20\" v-for=\"(item_attr,attr_index) in form.specData.specAttr\"\n\t\t\t\t\t\t\t:key=\"attr_index\">\n\t\t\t\t\t\t\t<view class=\"specs-hd p-20-0\">\n\t\t\t\t\t\t\t\t<text class=\"f26 gray3\">{{item_attr.groupName}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"specs-list\">\n\t\t\t\t\t\t\t\t<button :class=\"item.checked ? 'btn-checked' : 'btn-checke'\"\n\t\t\t\t\t\t\t\t\tv-for=\"(item,item_index) in item_attr.specItems\" :key=\"item_index\"\n\t\t\t\t\t\t\t\t\t@click=\"selectAttr(attr_index, item_index)\">{{item.specValue}}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t\t<!--选择数量-->\n\t\t\t\t<view class=\"level-box count_choose\">\n\t\t\t\t\t<text class=\"key\">数量</text>\n\t\t\t\t\t<view class=\"d-s-c\">\n\t\t\t\t\t\t<view class=\"icon-box minus d-c-c\" @click=\"sub()\" :class=\"{'num-wrap':!issub}\">\n\t\t\t\t\t\t\t<text class=\"icon iconfont icon-jian\" style=\"font-size: 20rpx;color: #333333;\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-wrap\">\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.showSku.sum\" value=\"\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"icon-box plus d-c-c\" :class=\"{'num-wrap':!isadd}\" @click=\"add()\">\n\t\t\t\t\t\t\t<text class=\"icon iconfont icon-jia\" style=\"font-size: 20rpx;color: #333333;\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"btns\">\n\t\t\t\t<button class=\"confirm-btn\" @click=\"confirmFunc(form)\">确认</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t/*是否可见*/\n\t\t\t\tVisible: false,\n\t\t\t\t/*表单对象*/\n\t\t\t\tform: {\n\t\t\t\t\tdetail: {\n\n\t\t\t\t\t},\n\t\t\t\t\tshowSku: {\n\t\t\t\t\t\tskuImage: ''\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/*当前商品总库存*/\n\t\t\t\tstock: 0,\n\t\t\t\t/*选择提示*/\n\t\t\t\tselectSpec: '',\n\t\t\t\t/*是否打开过多规格选择框*/\n\t\t\t\tisOpenSpec: false,\n\t\t\t\ttype: ''\n\t\t\t}\n\n\t\t},\n\t\tprops: ['isPopup', 'productModel'],\n\t\tonLoad() {\n\n\t\t},\n\t\tmounted() {\n\n\t\t},\n\t\tcomputed: {\n\n\t\t\t/*判断增加数量*/\n\t\t\tisadd: function() {\n\t\t\t\treturn this.form.showSku.sum >= this.stock || this.form.showSku.sum >= this.form.detail.limitNum;\n\t\t\t},\n\n\t\t\t/*判断减少数量*/\n\t\t\tissub: function() {\n\t\t\t\treturn this.form.showSku.sum <= 1;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t'isPopup': function(n, o) {\n\t\t\t\tif (n != o) {\n\t\t\t\t\tthis.Visible = n;\n\t\t\t\t\tif (!this.isOpenSpec) {\n\t\t\t\t\t\tthis.form = this.productModel;\n\t\t\t\t\t\tthis.isOpenSpec = true;\n\t\t\t\t\t\tthis.initShowSku();\n\t\t\t\t\t}\n\t\t\t\t\tthis.form.type = this.productModel.type;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'form.specData': {\n\t\t\t\thandler(n, o) {\n\t\t\t\t\tlet str = '',\n\t\t\t\t\t\tselect = '';\n\t\t\t\t\tthis.isAll = true;\n\t\t\t\t\tif (n) {\n\t\t\t\t\t\tfor (let i = 0; i < n.specAttr.length; i++) {\n\t\t\t\t\t\t\tconsole.log(this.form.productSpecArr);\n\t\t\t\t\t\t\tconsole.log('i='+i);\n\t\t\t\t\t\t\tif (this.form.productSpecArr[i] == null) {\n\t\t\t\t\t\t\t\tthis.isAll = false;\n\t\t\t\t\t\t\t\tstr += n.specAttr[i].groupName + ' ';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tn.specAttr[i].specItems.forEach(item => {\n\t\t\t\t\t\t\t\t\tif (this.form.productSpecArr[i] == item.itemId) {\n\t\t\t\t\t\t\t\t\t\tselect += '\\\"' + item.specValue + '\\\" ';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.isAll) {\n\t\t\t\t\t\t\tstr = '请选择: ' + str;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselect = '已选: ' + select;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.selectSpec = this.isAll ? select : str;\n\t\t\t\t},\n\t\t\t\tdeep: true,\n\t\t\t\timmediate: true\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\n\t\t\t/*初始化*/\n\t\t\tinitShowSku() {\n\t\t\t\tthis.form.showSku.skuImage = this.form.detail.image[0].filePath;\n\t\t\t\tthis.form.showSku.productPrice = this.form.detail.productPrice;\n\t\t\t\tif (this.form.detail.specType == 20) {\n\t\t\t\t\tthis.form.showSku.productPrice = this.form.detail.productPrice + '-' + this.form.detail\n\t\t\t\t\t\t.highPrice;\n\t\t\t\t}\n\t\t\t\tthis.form.showSku.productSkuId = 0;\n\t\t\t\tthis.form.showSku.linePrice = this.form.detail.linePrice;\n\t\t\t\tthis.form.showSku.stockNum = this.form.detail.productStock;\n\t\t\t\tthis.form.showSku.sum = 1;\n\t\t\t\tthis.stock = this.form.detail.productStock;\n\t\t\t},\n\n\t\t\t/*选择属性*/\n\t\t\tselectAttr(attr_index, item_index) {\n\t\t\t\tlet self = this;\n\t\t\t\tlet items = self.form.specData.specAttr[attr_index].specItems;\n\t\t\t\tlet curItem = items[item_index];\n\t\t\t\tif (curItem.checked) {\n\t\t\t\t\tcurItem.checked = false;\n\t\t\t\t\tself.form.productSpecArr[attr_index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\t\t\titems[i].checked = false;\n\t\t\t\t\t}\n\t\t\t\t\tcurItem.checked = true;\n\t\t\t\t\tself.form.productSpecArr[attr_index] = curItem.itemId;\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0; i < self.form.productSpecArr.length; i++) {\n\t\t\t\t\tif (self.form.productSpecArr[i] == null) {\n\t\t\t\t\t\tself.initShowSku();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// 更新商品规格信息\n\t\t\t\tself.updateSpecProduct();\n\t\t\t},\n\n\n\t\t\t/*更新商品规格信息*/\n\t\t\tupdateSpecProduct() {\n\t\t\t\tlet self = this;\n\t\t\t\tlet specSkuId = self.form.productSpecArr.join('_');\n\t\t\t\t// 查找skuItem\n\t\t\t\tlet specList = self.form.specData.specList\n\t\t\t\tlet skuItem = specList.find((val) => {\n\t\t\t\t\treturn val.specSkuId == specSkuId;\n\t\t\t\t});\n\t\t\t\t// 记录product_sku_id\n\t\t\t\t// 更新商品价格、划线价、库存\n\t\t\t\tif (typeof skuItem === 'object') {\n\t\t\t\t\t/*保存当前规格*/\n\t\t\t\t\tself.stock = skuItem.specForm.stockNum;\n\t\t\t\t\tif (self.form.showSku.sum > self.stock) {\n\t\t\t\t\t\tself.form.showSku.sum = self.stock > 0 ? self.stock : 1;\n\t\t\t\t\t}\n\t\t\t\t\tself.form.showSku.productSkuId = specSkuId;\n\t\t\t\t\tself.form.showSku.productPrice = skuItem.specForm.productPrice;\n\t\t\t\t\tself.form.showSku.linePrice = skuItem.specForm.linePrice;\n\t\t\t\t\tif (skuItem.specForm.imageId > 0) {\n\t\t\t\t\t\tself.form.showSku.skuImage = skuItem.specForm.imagePath;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.form.showSku.skuImage = self.form.detail.image[0].filePath;\n\t\t\t\t\t}\n\t\t\t\t\tself.form.showSku.stockNum = skuItem.specForm.stockNum;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/*关闭弹窗*/\n\t\t\tclosePopup() {\n\t\t\t\tthis.$emit('close', this.form.specData, null);\n\t\t\t},\n\n\t\t\t/*确认提交*/\n\t\t\tconfirmFunc() {\n\t\t\t\tif (this.form.specData != null) {\n\t\t\t\t\tfor (let i = 0; i < this.form.productSpecArr.length; i++) {\n\t\t\t\t\t\tif (this.form.productSpecArr[i] == null) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '请选择规格',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.form.type == 'card') {\n\t\t\t\t\tthis.addCart();\n\t\t\t\t} else if (this.form.type == 'order') {\n\t\t\t\t\tthis.createdOrder();\n\t\t\t\t} else if (this.form.type == 'deposit') {\n\t\t\t\t\tthis.createdOrder();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/*加入购物车*/\n\t\t\taddCart() {\n\t\t\t\tlet self = this;\n\t\t\t\tlet productId = self.form.detail.productId;\n\t\t\t\tlet totalNum = self.form.showSku.sum;\n\t\t\t\tlet specSkuId = self.form.showSku.productSkuId;\n\t\t\t\tif (self.form.detail.specType == 20 && specSkuId == 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请选择属性',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tself._post('order/cart/add', {\n\t\t\t\t\tproductId: productId,\n\t\t\t\t\ttotalNum: totalNum,\n\t\t\t\t\tspecSkuId: specSkuId,\n\t\t\t\t}, function(res) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\tself.$emit('close', null, res.data);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/*创建订单*/\n\t\t\tcreatedOrder() {\n\t\t\t\tlet productId = this.form.detail.productId;\n\t\t\t\tlet productNum = this.form.showSku.sum;\n\t\t\t\tlet productSkuId = this.form.showSku.productSkuId;\n\t\t\t\tlet url = '/pages/order/confirm-order?productId=' + productId + '&productNum=' + productNum +\n\t\t\t\t\t'&specSkuId=' + productSkuId + '&orderType=buy';\n\t\t\t\tthis.gotoPage(url);\n\t\t\t},\n\n\t\t\t/*商品增加*/\n\t\t\tadd() {\n\t\t\t\tif (this.stock <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.form.showSku.sum >= this.stock) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '数量超过了库存',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.form.detail.limitNum > 0 && this.form.showSku.sum >= this.form.detail.limitNum) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '数量超过了限购数量',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.form.showSku.sum++;\n\t\t\t},\n\n\t\t\t/*商品减少*/\n\t\t\tsub() {\n\t\t\t\tif (this.stock <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.form.showSku.sum < 2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '商品数量至少为1',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.form.showSku.sum--;\n\t\t\t}\n\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.product-popup {}\n\n\t.product-popup .popup-bg {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tbackground: rgba(0, 0, 0, .6);\n\t\tz-index: 99;\n\t}\n\n\t.product-popup .main {\n\t\tposition: fixed;\n\t\twidth: 100%;\n\t\tbottom: 0;\n\t\tmin-height: 200rpx;\n\t\t// max-height: 1050rpx;\n\t\tbackground-color: #fff;\n\t\ttransform: translate3d(0, 980rpx, 0);\n\t\ttransition: transform .2s cubic-bezier(0, 0, .25, 1);\n\t\t// bottom: env(safe-area-inset-bottom);\n\t\tz-index: 99;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.product-popup.open .main {\n\t\ttransform: translate3d(0, 0, 0);\n\t\tz-index: 99;\n\t}\n\n\t.product-popup.close .popup-bg {\n\t\tdisplay: none;\n\t}\n\n\t.product-popup.close .main {\n\t\tdisplay: none;\n\t\tz-index: -1;\n\t}\n\n\t.product-popup .header {\n\t\theight: 200rpx;\n\t\tpadding: 40rpx 0 10rpx 250rpx;\n\t\tposition: relative;\n\t\tborder-bottom: 1px solid #EEEEEE;\n\t}\n\n\t.product-popup .header .avt {\n\t\tposition: absolute;\n\t\ttop: 40rpx;\n\t\tleft: 30rpx;\n\t\twidth: 180rpx;\n\t\theight: 180rpx;\n\t\tborder: 2px solid #FFFFFF;\n\t\tbackground: #FFFFFF;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.product-popup .header .stock {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t}\n\n\t.product-popup .close-btn {\n\t\tposition: absolute;\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\ttop: 40rpx;\n\t\tright: 30rpx;\n\t}\n\n\t.product-popup .price {\n\t\t@include font_color('price_color');\n\t\tfont-size: 24rpx;\n\t}\n\n\t.product-popup .price .num {\n\t\tpadding: 0 4rpx;\n\t\tfont-size: 40rpx;\n\t}\n\n\t.product-popup .old-price {\n\t\tmargin-left: 10rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t\ttext-decoration: line-through;\n\t}\n\n\t.product-popup .body {\n\t\tpadding: 20rpx 30rpx 39rpx 30rpx;\n\t\t// max-height: 600rpx;\n\t\toverflow-y: auto;\n\t}\n\n\t.product-popup .level-box {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.product-popup .level-box .key {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999999;\n\t}\n\n\t.product-popup .level-box .icon-box {\n\t\twidth: 48rpx;\n\t\theight: 40rpx;\n\t\tbackground: #e0e0e0;\n\t}\n\n\t.product-popup .num-wrap .iconfont {\n\t\tcolor: #666;\n\t}\n\n\t.product-popup .num-wrap.no-stock .iconfont {\n\t\tcolor: #CCCCCC;\n\t}\n\n\t.product-popup .level-box .text-wrap {\n\t\tmargin: 0 4rpx;\n\t\theight: 60rpx;\n\t\tborder: none;\n\t\tbackground: #ffffff;\n\t}\n\n\t.product-popup .level-box .text-wrap input {\n\t\tpadding: 0 10rpx;\n\t\theight: 60rpx;\n\t\tline-height: 60rpx;\n\t\twidth: 80rpx;\n\t\tfont-size: 32rpx;\n\t\ttext-align: center;\n\t}\n\n\t.specs .specs-list {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.specs .specs-list button {\n\t\tmargin-right: 10rpx;\n\t\tmargin-bottom: 10rpx;\n\t\tfont-size: 24rpx;\n\t}\n\n\t.specs .specs-list button:after,\n\t.product-popup .btns button,\n\t.product-popup .btns button:after {\n\t\theight: 88rpx;\n\t\tline-height: 88rpx;\n\t\tborder: 0;\n\t\tborder-radius: 0;\n\t\tmargin-bottom: 55rpx;\n\t}\n\n\t.product-popup .btns .confirm-btn {\n\t\twidth: 710rpx;\n\t\theight: 80rpx;\n\t\t@include background_linearmore('cart_right1', 'cart_right2', 'right_deg', 0%, 100%);\n\t\tborder-radius: 40rpx;\n\t\tmargin: 0 auto;\n\t\tmargin-bottom: 55rpx;\n\t\tcolor: #FFFFFF;\n\t\tline-height: 80rpx;\n\t\tfont-size: 32rpx;\n\t}\n\n\t.btn-checked {\n\t\tborder: 1rpx solid #F6220C;\n\t\t@include border_color('background_color');\n\t\tborder-radius: 6px;\n\t\t@include font_color('font_color');\n\t\tfont-size: 26rpx;\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.btn-checke {\n\t\tborder: 1rpx solid #D9D9D9;\n\t\tborder-radius: 6rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #333333;\n\t\tbackground-color: #FFFFFF;\n\t}\n</style>\n","import mod from \"-!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./spec.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\17059\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./spec.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668323683349\n      var cssReload = require(\"C:/Users/17059/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}