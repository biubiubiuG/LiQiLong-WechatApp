<view class="{{[$root.m0]}}" data-theme="{{$root.m1}}"><view class="top-tabbar"><view data-event-opts="{{[['tap',[['stateFunc',[0]]]]]}}" class="{{[state_active==0?'tab-item active':'tab-item']}}" bindtap="__e">全部订单</view><view data-event-opts="{{[['tap',[['stateFunc',[1]]]]]}}" class="{{[state_active==1?'tab-item active':'tab-item']}}" bindtap="__e">待付款</view><view data-event-opts="{{[['tap',[['stateFunc',[2]]]]]}}" class="{{[state_active==2?'tab-item active':'tab-item']}}" bindtap="__e">待发货</view><view data-event-opts="{{[['tap',[['stateFunc',[3]]]]]}}" class="{{[state_active==3?'tab-item active':'tab-item']}}" bindtap="__e">待收货</view><view data-event-opts="{{[['tap',[['stateFunc',[4]]]]]}}" class="{{[state_active==4?'tab-item active':'tab-item']}}" bindtap="__e">待评价</view></view><scroll-view class="scroll-Y" style="{{('height:'+scrollviewHigh+'px;')}}" scroll-y="true" lower-threshold="50" data-event-opts="{{[['scrolltolower',[['scrolltolowerFunc',['$event']]]]]}}" bindscrolltolower="__e"><view class="{{[topRefresh?'top-refresh open':'top-refresh']}}"><block wx:for="{{3}}" wx:for-item="circle" wx:for-index="n" wx:key="n"><view class="circle"></view></block></view><view class="order-list"><block wx:for="{{listData}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item"><view class="order-head d-b-c"><view><text class="state-text">{{item.orderSourceText}}</text><text class="shop-name flex-1 fb">{{"订单号："+item.orderNo}}</text></view><view class="state"><text class="red">{{item.orderStatusText}}</text></view></view><block wx:if="{{item.product.length>1}}"><view data-event-opts="{{[['tap',[['gotoOrder',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="product-list pr" bindtap="__e"><scroll-view scroll-x="true"><view class="list d-s-c pr100"><block wx:for="{{item.product}}" wx:for-item="img" wx:for-index="num" wx:key="num"><view class="cover mr10"><image src="{{img.productImage}}" mode="aspectFit"></image></view></block></view></scroll-view><view class="total-count"><view class="left-shadow"></view><view class="price f22 theme-price">¥<text class="f40 theme-price">{{item.orderPrice}}</text></view><view class="count">{{"共"+item.totalNum+"件"}}</view></view></view></block><block wx:else><view data-event-opts="{{[['tap',[['gotoOrder',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="one-product d-s-c" bindtap="__e"><block wx:for="{{item.product}}" wx:for-item="img" wx:for-index="num" wx:key="num"><view class="cover"><image src="{{img.productImage}}" mode="aspectFit"></image></view></block><view class="pro-info flex-1">{{item.product[0].productName}}</view><view class="total-count"><view class="left-shadow"></view><view class="price theme-price f22">¥<block wx:if="{{item.orderSource==80}}"><text class="f40 theme-price">{{item.payPrice}}</text></block><block wx:else><text class="f40 theme-price">{{item.payPrice}}</text></block></view><view class="count">{{"共"+item.totalNum+"件"}}</view></view></view></block><view class="order-bts"><block wx:if="{{item.orderStatus==10}}"><block><block wx:if="{{item.payStatus==10}}"><button data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-borderbtn" bindtap="__e">取消</button></block><block wx:if="{{item.payStatus==20&&item.deliveryStatus==10}}"><block><button data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-borderbtn" bindtap="__e">申请取消</button></block></block><block wx:if="{{item.payStatus==20&&item.deliveryType==20&&item.deliveryStatus==10}}"><block><button data-event-opts="{{[['tap',[['onQRCode',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-borderbtn" bindtap="__e">核销码</button></block></block><block wx:if="{{item.payStatus==10}}"><block><button data-event-opts="{{[['tap',[['onPayOrder',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-btn" bindtap="__e">付款</button></block></block><block wx:if="{{item.deliveryStatus==20&&item.receiptStatus==10}}"><block><button data-event-opts="{{[['tap',[['orderReceipt',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-btn" bindtap="__e">确认收货</button></block></block></block></block><block wx:if="{{item.orderStatus==21}}"><text class="count">取消申请中</text></block><block wx:if="{{item.orderStatus==30&&item.isComment==0}}"><button data-event-opts="{{[['tap',[['gotoEvaluate',['$0'],[[['listData','',index,'orderId']]]]]]]}}" class="theme-btn" bindtap="__e">评价</button></block><block wx:if="{{item.assembleStatus==10&&item.orderSource==30}}"><button data-event-opts="{{[['tap',[['gotoAssembleShare',['$0'],[[['listData','',index,'product.__$n0.billSourceId']]]]]]]}}" class="theme-btn" bindtap="__e">邀请好友拼单</button></block></view></view></block><block wx:if="{{listData.length==0&&!loading}}"><view class="d-c-c p30"><text class="iconfont icon-wushuju"></text><text class="cont">亲，暂无相关记录哦</text></view></block><block wx:else><uni-load-more vue-id="16dfa8ce-1" loadingType="{{loadingType}}" bind:__l="__l"></uni-load-more></block></view></scroll-view><popup vue-id="16dfa8ce-2" show="{{isCodeImg}}" type="middle" data-event-opts="{{[['^hidePopup',[['hideCodePopupFunc']]]]}}" bind:hidePopup="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="ww100 p20 box-s-b"><image class="ww100" src="{{codeImg}}" mode="widthFix"></image></view></popup><tab-bar vue-id="16dfa8ce-3" bind:__l="__l"></tab-bar></view>